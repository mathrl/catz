<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catz 🐱</title>

    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/vue@3"></script>
</head>
<body>
    <img src="" alt="">
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    <p class="info"></p>
    
    <script src="breeds.js"></script>

    <script>

        const apiKey = "1f9225bc-14b7-4b63-8f78-b5f53a066ab7";
        const endpoint = "https://api.thecatapi.com/v1/images/search?";
    
    
        function randomIntFromInterval(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min)
        }
    
        let random = randomIntFromInterval(0, breeds.length - 1);
        let randomBreed = breeds[random];
    
        
        (async () => {
    
            let searchRes = await fetch(endpoint + new URLSearchParams({
                breed_id: randomBreed
            }));
            //console.log(searchRes);
    
            let catEndpoint = searchRes.url;
            //console.log(catEndpoint)
    
            let catRes = await fetch(catEndpoint);
            let cat = await catRes.json();
            //console.log(cat);
    
    
            
           
            let pic = cat[0].url;
            document.querySelector('img').src = pic;
    
            let catInfo = cat[0].breeds[0];
            console.log(cat[0].breeds[0]);
    
            let ps = document.querySelectorAll('p.info');
            ps.forEach((p, index) => {
                let input = catInfo[index];
                if(typeof input == 'number'){
                    let rating = catInfo[index];
                    input = catStringify(rating);
                } 
                p.innerHTML += input;
            })
    
        })();
    
        function catStringify(number){
            let catString = '';
            while(number > 0){
                catString += '🐱';
                number--;
            }
            return catString;
        }
    
    
        
    
    </script>
</body>
</html>


